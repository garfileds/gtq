<!DOCTYPE html>
<html>
  <head>
  	<meta charset="utf-8">
  	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <title>{{title}}</title>
    <style type="text/css">
	    .leftBox {
	    	width: 15%;
	    	display: inline-block;
	    	vertical-align: top;
	    }
    	.rightBox {
    		width: 80%;
    		display: inline-block;
    		height: 500px;
    	}
    </style>
	<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=C2VG4TpScD6hDeaxHYUhMBaMSn2vcGsL"></script>
  </head>
  <body>
    <div class="logo">
		<h1>GTQ型单兵巡护通讯系统</h1>
	</div>
	<div class="leftBox">
		<p>设备列表</p>
		<ul>
			<li>一号</li>
			<li>二号</li>
			<li>三号</li>
			<li>四号</li>
		</ul>
	</div>
	<div class="rightBox" id="allmap"></div>

	<script type="text/javascript">
	    var points = [new BMap.Point(116.3786889372559,39.90762965106183),
	                  new BMap.Point(116.38632786853032,39.90795884517671),
	                  new BMap.Point(116.39534009082035,39.907432133833574),
	                  new BMap.Point(116.40624058825688,39.90789300648029),
	                  new BMap.Point(116.41413701159672,39.90795884517671)
	    ];

	    //地图初始化
	    var bm = new BMap.Map("allmap");
	    bm.centerAndZoom(new BMap.Point(116.378688937,39.9076296510), 15);

	    //坐标转换完之后的回调函数
	    translateCallback = function (data){
	      if(data.status === 0) {
	        for (var i = 0; i < data.points.length; i++) {
	            bm.addOverlay(new BMap.Marker(data.points[i]));
	            bm.setCenter(data.points[i]);
	        }
	      }
	    }
	    setTimeout(function(){
	        var convertor = new BMap.Convertor();
	        convertor.translate(points, 1, 5, translateCallback)
	    }, 1000);
	</script>
  </body>
</html>
